{"version":3,"sources":["webpack:///webpack/bootstrap 95a9bc571fc8682dbd23","webpack:///./src/fpb.js","webpack:///./src/scss/fpb-styles.scss"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA;AACA;AACA,8BAA6B;;AAE7B;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,kBAAkB;AACnC,uCAAsC;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,kBAAiB;AACjB;AACA,cAAa;AACb;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;;AAEb;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;;AAEA,oC;;;;;;AClFA,0C","file":"js/fpb.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 95a9bc571fc8682dbd23","require(\"./scss/fpb-styles.scss\");\nimport Sortable from \"sortablejs\";\nvar tinymce = window.tinymce; //BAD\n\nfunction ready(fn) {\n  if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\"){\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', fn);\n  }\n}\n\n// forEach method, could be shipped as part of an Object Literal/Module\nvar forEach = function (array, callback, scope) {\n  for (var i = 0; i < array.length; i++) {\n    callback.call(scope, i, array[i]); // passes back stuff we need\n  }\n};\n\nclass FrontendPageBuilder {\n    constructor() {\n    }\n    init() {\n        tinymce.init({\n            selector: '[data-sfb-valuetype=\"string\"]',\n            inline: true,\n            toolbar: 'undo redo',\n            menubar: false\n        });\n\n        tinymce.init({\n            selector: '[data-sfb-valuetype=\"rich\"]',\n            inline: true,\n            // toolbar: 'undo redo',\n            menubar: false\n        });\n\n        function serializeContent() {\n            var areas = document.querySelectorAll(\"[data-sfb-content]\");\n            forEach(areas, function(i, area){\n                var data = [];\n                var sections = area.querySelectorAll(\"[data-sfb-section]\");\n                forEach(sections, function(i, section){\n                    var sectiondata = {};\n                    var fields = section.querySelectorAll(\"[data-sfb-value]\");\n                    forEach(fields, function(i, field) {\n                        var name = field.getAttribute(\"data-sfb-value\");\n                        var type = field.getAttribute(\"data-sfb-valuetype\");\n                        var value = field.innerHTML;\n                        sectiondata[name] = value;\n                    });\n                    data.push(sectiondata);\n                });\n                console.log(JSON.stringify(data));\n            });\n        }\n\n        var buttonrow = '<ul class=\"sfb-tools\"><li class=\"sfb-tools_handle\"></li><li class=\"sfb-tools_edit\"></li><li class=\"sfb-tools_trash\"></li><li class=\"sfb-tools_show\"></li></ul><div class=\"sfb-overlay\"><span></span><span></span><span></span><span></span></div>'\n\n        ready(function() {\n\n            var areas = document.querySelectorAll(\"[data-sfb-content]\");\n            forEach(areas, function(i, area){\n                Sortable.create(area, {\n                    animation: 150,\n                    // draggable: \"[data-sfb-section]\",\n                    handle: \".sfb-tools_handle\"\n                });\n                var sections = area.querySelectorAll(\"[data-sfb-section]\");\n                forEach(sections, function(i, section){\n                    section.insertAdjacentHTML('afterbegin', buttonrow);\n                    // section.classList.add(\"sfb-draggable\");\n                });\n            });\n\n            document.getElementById(\"sfb-save\").addEventListener(\"click\", function(e) {\n                serializeContent();\n            });\n        });\n    }\n}\n\nexport default FrontendPageBuilder;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/fpb.js\n// module id = 1\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scss/fpb-styles.scss\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}